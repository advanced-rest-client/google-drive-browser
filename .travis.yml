language: node_js
node_js: stable
sudo: required
before_script:
  - npm install -g polymer-cli
  - polymer install --variants
addons:
  firefox: latest
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
  sauce_connect: true
script:
  - npm run lint
  - xvfb-run polymer test --plugin local
  - >-
    if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then polymer test --plugin sauce
    --job-name "google-drive-browser:${TRAVIS_BRANCH}"
    --build-number=${TRAVIS_BUILD_NUMBER}; fi
cache:
  directories:
    - node_modules
after_success:
  - node tasks/ci.js
env:
  global:
    - secure: >-
        VL3aW0wWqft8trjdJpFh7ePHCZp6tZIJ8rptyGNtiwRQB0FkgYpuDxx7WTw3c0PNQUBOtBPPTrtu5Hdbn+mlgeSnHUXkDPUvi1nK4vOaFcbiNgcHQA6r/9NmQGqEisLQNqCx4d5T8mDDosnVc5GKf631Nmrr9l+yZJ/SUdd79fMqh4/nJA9+pTeB9OoQjnYyIJclbDhEM9LPu54LGam/ugIADuNnf0ZhYUZrtbozBFuBRs9veoy6zTblLaEzatYzqqrTQFsSl+jWn4Kc1UxRhhRrFYHmP2loFIrz8/A7c8CjNNMRaL5GLVYFXxYek0DhCLh4B6FflRMDObVCJGojiQIHwEQgI8BcgndJzZqGALg/ly/VLlfo+6NKqGroeIhAuvsvqyvgZvit/iiTSAkz9uZxxIIdmhfRc2+rvAjxz5QLga0CXNK3NPLHi1ETxat6Dx5TvHhblu7dthEG1W9rBeTBbU96a6V/sI0FzaQi5N1VOa0ipGaFvEQGB7MwxAtNa5sugTkwgqgDh7LztswbmjiVkCzR9vmLet/nfriJD4RRy+m86NKuSCscM0AlPDXvukWBugyzxVS5N8ny1um1zvjnbW/3x0/hiQtDsR3wQm+8hMZNwPASbPccuNn6Cjd72UYCdM4UzvHEWO8QOxMjUo7SbHA6+QMgMou5qjjeQm8=
    - secure: >-
        eZOQyI+uXxLKmFPC2hSsZe0kd7VGYriY20tBfcLXG/DfzSKgK2XFD1lbYCapUuDYZss8R8nRO2A0fUWJHSrQNQOc+UgMSmw06NrBKHIJym7IwmMNPPv6msYqQK3J4wAzfiDqLp76mHQ78OcoIAcbYs85f72WvFJM4MEOrZjrRR8+N6ZVLZUnxMDTm/faBp3H/I+R0V+lw1S+boF5Mg3W+T+VTz5SqKenOuFn7nR+aefZsMR0QwIXaMd8s0U18FVJFGArXcZxdIrfuGjdK1LxGjrO0xFZi3tzxX2EJhY3trbnMLw0U/nnNFr4ifyGEIhru8uCxyyDUqd4UCFLkIi0zYU61ahCvsZaoCRGIXaEd1YmWT0qJyvMnN18jbXnHXny51vqctigvcIpa51GAJkL8NfcdnEZJincp+KuyR6A2z8ZD6fevTiNfH/W8RMg3zAK/c6tiUFAOvFZW7oBehp5Ld4DlKprfcf7+l068XWjtyXgkVNgoDF8ETt4az8GkPaco+i3TVvHTOuHL/2JdrZocYrDZCvQAp72DyxHqsYDL49bCvPzjjhZhO6Voa7jlhwYqGCJW9EnRjAuUnwO67yARJ0uUCMghF1uwgT++55phXeVRwdqBpiRTVdq7tRWzDffABVVr5nesLSpBjEigg9OSpbIDN5oT0qKMwmHjzVLrTQ=
